{
  "entities": {
    "vehicle": {
      "title": "Vehicle",
      "description": "Represents a vehicle in the inventory.",
      "type": "object",
      "properties": {
        "make": { "type": "string" },
        "model": { "type": "string" },
        "year": { "type": "number" },
        "vin": { "type": "string" },
        "referenceNumber": { "type": "string" },
        "chassisNumber": { "type": "string" },
        "drivetrain": { "type": "string", "enum": ["4x4", "2WD", "AWD", "FWD", "RWD"] },
        "transmission": { "type": "string", "enum": ["Automatic", "Manual"] },
        "color": { "type": "string" },
        "fuel": { "type": "string", "enum": ["Petrol", "Diesel", "Hybrid", "Electric", "LPG"] },
        "engineSize": { "type": "number", "description": "The engine displacement in cubic centimeters (CC)." },
        "vehicleType": { "type": "string", "enum": ["Coupe", "Hatchback", "Minivan", "Sedan", "Pickup", "SWagon", "SUV", "TWagon", "Truck", "Van"] },
        "mileage": { "type": "number" },
        "condition": { "type": "string", "enum": ["New", "Used", "Damaged"] },
        "price": { "type": "number" },
        "currency": { "type": "string", "enum": ["USD", "KSh"] },
        "status": { "type": "string", "enum": ["Incoming", "Available", "Sold"] },
        "inspectionStatus": { "type": "string", "enum": ["Pending", "Passed", "Failed"] },
        "arrivalDate": { "type": "string", "format": "date" },
        "saleDate": { "type": "string", "format": "date" },
        "buyerDetails": { "type": "string" },
        "finalPrice": { "type": "number" },
        "salespersonId": { "type": "string" },
        "images": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "id": { "type": "string" },
                    "url": { "type": "string" },
                    "isFeature": { "type": "boolean" }
                },
                "required": ["id", "url", "isFeature"]
            }
        },
        "features": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "description": "A list of notable features for the vehicle."
        }
      },
      "required": ["make", "model", "year", "mileage", "status", "inspectionStatus", "chassisNumber", "fuel", "currency", "referenceNumber", "drivetrain", "transmission", "color", "vehicleType", "engineSize"]
    },
    "salesperson": {
      "title": "Salesperson",
      "description": "Represents a salesperson who can manage vehicles.",
      "type": "object",
      "properties": {
        "name": { "type": "string" },
        "email": { "type": "string", "format": "email" },
        "userId": { "type": "string", "description": "The corresponding Firebase Auth User ID." }
      },
      "required": ["name", "email"]
    }
  },
  "auth": {
    "providers": ["email", "google"]
  },
  "firestore": {
    "/vehicles/{vehicleId}": {
      "schema": { "$ref": "#/entities/vehicle" },
      "description": "Collection of all vehicles."
    },
    "/salespeople/{salespersonId}": {
      "schema": { "$ref": "#/entities/salesperson" },
      "description": "Collection of all salespeople."
    }
  }
}
